<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>movil</parentName>
  <maskName>base_unidades</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x,y,mouse);
instance_create(x,y,camara);
vida=4;//puntos de resistencia 4
municion=10;//municion
if(control.mision=0 and control.avance=7){celebra=1;}
else{celebra=0;}
estado=1;//0:rellenando, 1:recargando, 2:listo, 3:lanzando
vert=0;//controles W y S
hort=0;//controles A y D
paso=0;//animacion pies
cabezeo=0;//animacion cabeza
brazo=0;//animacion brazos
voz=0;//funcion pito grito
if(control.record[0]&gt;59){tarro=1;}//poder especial
else{tarro=0;}
alarm[0]=1;
alarm[1]=4;
alarm[2]=60;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>tarro=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>voz=1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(estado=3){
    if(brazo&lt;7){brazo+=1; alarm[1]=1;}//velocidad tiro
    else{brazo=0;
        if(tarro=2){
            tiro=instance_create(x,y,flecha1);
            tiro.tipo=1;
            tiro.direction=point_direction(x,y,mouse_x,mouse_y);
            tarro=0;
            switch(vida){//demora recarga tarro + a + vida
                case 2: alarm[3]=150; break;
                case 3: alarm[3]=200; break;
                case 4: alarm[3]=200; break;
                default: alarm[3]=100; break;}}
        else if(tarro=3){
            tiro=instance_create(x,y,flecha1);
            tiro.tipo=2;
            tiro.direction=point_direction(x,y,mouse_x,mouse_y);
            tarro=0;
            switch(vida){//demora recarga tarro + a + vida
                case 2: alarm[3]=150; break;
                case 3: alarm[3]=200; break;
                case 4: alarm[3]=200; break;
                default: alarm[3]=100; break;}}
        else if(control.mision=1 and control.avance=7){
            tiro=instance_create(x,y,flecha1);
            tiro.tipo=1;
            tiro.direction=point_direction(x,y,mouse_x,mouse_y);}
        else if(instance_exists(enemis)){
            if(distance_to_object(enemis)&lt;24){
                blanco=instance_nearest(x,y,enemis);
                tiro=instance_create(x,y,flecha1);
                tiro.direction=point_direction(x,y,blanco.x,blanco.y);}
            else{
                tiro=instance_create(x,y,flecha1);
                tiro.direction=point_direction(x,y,mouse_x,mouse_y);}}
        else{
            tiro=instance_create(x,y,flecha1);
            tiro.direction=point_direction(x,y,mouse_x,mouse_y);}
        if(municion=0){estado=0;}
        else{estado=1;}
        alarm[1]=4;}}

else if(estado=1){
    if(brazo&lt;4){
        brazo+=1;
        if(brazo=3){municion-=1;}
        switch(vida){//velocidad recarga + a - vida
            case 2: alarm[1]=3; break;
            case 3: alarm[1]=4; break;
            case 4: alarm[1]=4; break;
            default: alarm[1]=2; break;}}
    else{brazo=0; estado=2;}}

else if(estado=0 and municion&lt;10){
    if(brazo&lt;3){if(brazo=0){sound_play(snd_recarga);}
        brazo+=1;
        alarm[1]=2;}//velocidad relleno municion
    else{brazo=0; municion+=1;
        if(municion&lt;10){alarm[1]=2;}
        else{estado=1; alarm[1]=4;}}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(vida&gt;0){
    if(paso&lt;4){paso+=1;}
    else{paso=1;}
    if(cabezeo&lt;5){cabezeo+=1;}
    else{cabezeo=0;}
    alarm[0]=2;}//velocidad animaciones
else if(paso&lt;7){paso+=1; if(paso=3){instance_create(x,y-1,huesos);} alarm[0]=3;}//velocidad muerte
else{with(camara){instance_destroy();}
    with(mouse){instance_destroy();}
    if(control.mision=2){
        control.alarm[0]=120;
        if(control.record[0]&lt;control.nivel){
                sound_play(snd_record);}
            else{sound_play(snd_derrota);}}
    else{sound_play(snd_derrota); control.alarm[0]=500;}
    instance_destroy();}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>depth=y*-10;
if(vida&gt;0){
    if(keyboard_check_direct(ord('A'))){
        if(keyboard_check_direct(ord('W'))){
            direction=135;}
        else if(keyboard_check_direct(ord('S'))){
            direction=225;}
        else{
            direction=180;}
        speed=3.1+(4-vida)*0.1;}
    else if(keyboard_check_direct(ord('D'))){
        if(keyboard_check_direct(ord('W'))){
            direction=45;}
        else if(keyboard_check_direct(ord('S'))){
            direction=315;}
        else{
            direction=0;}
        speed=3.1+(4-vida)*0.1;}
    else if(keyboard_check_direct(ord('W'))){
        direction=90;
        speed=3.1+(4-vida)*0.1;}
    else if(keyboard_check_direct(ord('S'))){
        direction=270;
        speed=3.1+(4-vida)*0.1;}
    else{
        speed=0;}//velocidad + a - vida
    
    if(keyboard_check_released(vk_space)or mouse_check_button_released(mb_left)){
        if(municion&gt;-1 and estado=2){
            brazo=0; estado=3; alarm[1]=1;}}
    if(keyboard_check_released(ord('R'))or mouse_check_button_released(mb_right)){
        if(municion&lt;9){brazo=0; estado=0; alarm[1]=2;}}
    if(keyboard_check_released(ord('Q'))and voz=1){//sonido unidad, alerta enemigos
        voz=0; sound_play(snd_jajaja); alarm[2]=80;
        instance_create(x,y+2,onda);
        if(tarro=2 and control.mision=2 and control.nivel&gt;99){tarro=3;}
        with(enemis){
            if(object_index!=enemy0){
                if(distance_to_object(unidad)&lt;120 and vigilia=0){
                    xx=unidad.x+lengthdir_x(40,point_direction(unidad.x,unidad.y,x,y));
                    yy=unidad.y+lengthdir_y(40,point_direction(unidad.x,unidad.y,x,y));
                    instance_create(x,y+1,duda);
                    if(direccion&lt;180){sound_play(snd_hmmm);} else{sound_play(snd_donde);}
                    vigilia=1;}}
            else if(distance_to_object(unidad)&lt;80){
                vigilia=3; alarm[4]=8+(5-unidad.vida)*4;}}}
    if(keyboard_check_released(ord('E'))){//poder especial
        if(tarro=1){
            if(control.mision=1 and control.avance=7){tarro=3;}
            else{tarro=2;}}
        else if(tarro&gt;1){tarro=1;}}}
else{speed=0;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="flecha2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(other.tipo=2){if(vida&gt;1){vida-=2;} else{vida-=1;}}
else{vida-=1;}
if(vida&gt;0){sound_play(snd_aww);}
else if(vida=0){paso=0; sound_play(snd_muertes);
    with(enemis){celebra=1;}}
with(other){instance_destroy();}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="movil">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(other.vida&gt;0){
    move_bounce_all(1);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="bloque">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>move_bounce_all(1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(vida&gt;0){
    draw_sprite(sombras,0,x,y);
    draw_sprite(d_municion,municion,x,y-40);
    if(tarro=3){draw_sprite(d_efecto,cabezeo,x,y);}
    if(xprevious=x and yprevious=y){draw_sprite(d_patas0,0,x,y); paso=1;}
    else{draw_sprite(d_patas0,paso,x,y);}
    if(tarro=1){draw_sprite(d_tarro,0,x-3,y-25);}
    else if(tarro&gt;1){draw_sprite(d_tarro,1,x-3,y-25);}
    if(vida&lt;4){draw_sprite(d_herida,0,x,y-41);}
    switch(vida){
        case 4: draw_sprite(d_cabezas1,cabezeo,x,y-47); break;
        case 3: draw_sprite(d_cabezas1,cabezeo,x,y-47); break;
        case 2: draw_sprite(d_cabezas2,cabezeo,x,y-47); break;
        case 1: draw_sprite(d_cabezas3,cabezeo,x,y-47); break;}
    switch(estado){
        case 0: draw_sprite(d_relleno,brazo,x,y-43); break;
        case 1: draw_sprite(d_recarga,brazo,x,y-43); break;
        case 2: if(celebra=0){draw_sprite(d_recarga,4,x,y-43);}
            else{draw_sprite(d_celebra,cabezeo,x,y-43);} break;
        case 3: draw_sprite(d_tiro,brazo,x,y-43); break;}
    }
else{draw_sprite(d_muerte0,paso,x,y);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
